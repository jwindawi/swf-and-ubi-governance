# Data and Methods

 The primary challenge in studying Alaska's Dividend is that neither state nor federal public use data identify those who receive the Dividend. Neither the Current Population Survey nor the American Community Survey (ACS) have an income category that consistently reflects Alaska's Dividend, while the [website](https://pfd.alaska.gov/Division-Info/summary-of-dividend-applications-payments) of Alaska's Dividend Division reports only aggregate numbers of applicants and recipients in a given year.  Nor is it viable to simply assume that all Alaskans receive the Dividend given that there are strict criteria regarding eligibility and the need to apply.  
 
The process I follow begins by constructing some number of counterfactual population incomes for the state of Alaska in which the Dividend does not exist, holding the population and its demographic characteristics constant, and then measures the differences between these counterfactual Alaskas and the baseline version established by the ACS IPUMS data for each year. 

## Simulation Data 

The inability to consistently identify APFD income in the public data, coupled with the fact that receipt of the Dividend is not universal, creates measurement problems akin to those faced by studies of the Earned Income Tax Credit, which typically rely on data from the CPS (CITE HOYNES, NICHOLS). The CPS' approach to measuring the EITC is part of its larger effort to reliably estimate after-tax income in the absence of confidential IRS data. The methods used by the CPS in were significantly revised in 2004 to encompass a two-stage process that begins with an estimation of the likelihood of a taxpaying unit claiming certain deductions based on eligibility and matched IRS data, followed by an simulation-based imputation of deductions based on the likelihood established in the first-stage estimation. The final step is the deduction of the resulting taxes to arrive at an after-tax income, from which EITC eligibility and assignment are determined (O'Hara 2004, 2006). 

The methods and data I use are similar in spirit to the CPS process, though they differ in significant ways. First, the data for the study come from the annual public-use microdata (PUMS) files of the American Community Survey (ACS), which the U.S. Census [recommends](https://www.census.gov/topics/income-poverty/guidance/data-sources.html) for the analysis of sub-national data. I focus on the years 2006 through 2020 since the PUMS for these years includes ACS-calculated replicate weights that reflect the full survey design. Second, rather than using simulation to establish a point estimate, I use it to generate a range of plausible outcomes across a series of test statistics from which to draw preliminary conclusions.

## Fiscal Data


## Simulating Counterfactuals: Core Method

The core of the simulation method is to generate 1,000 random draws for each household, in each year, with the randomness determining which households are treated as having the dollar amount of that year's Dividend removed. These 1,000 annual draws then form the basis of simple test statistics comparing inequality and poverty in the baseline ACS data (with the Dividend) against counterfactual states in which the Dividend is removed. 

I begin with the distribution of household incomes (scaled for household size using the square-root equivalence scale) as measured by the ACS in year $t$ as $Y_{t}$, and then randomly assign individual households with Dividend-eligible members to the condition of having some amount of income removed from their household income $y_{it}$, up to the limit set by the number of eligible individuals in the household $n_{it}$ and the dollar amount of that year's dividend $d_{t}$. I then impute the resulting income, after adjusting for household size using an equivalence scale, to each individual in the household. This process yields a simulated version of Alaska with a Dividend-free income distribution of $Y^{'}_{t}$, and allows me to generate a series of statistics that test for meaningful differences between Alaska with and "without" the Dividend. 

$$y^{'}_{it} = y_{it} - d_{t}x_{it}, $$ 

Randomization enters the simulation through the creation of each household's dividend multiplier $x_{it}$, which I generate as a random draw from a binomial distribution as described below. 

$$x_{it} \in \textbf{X} \sim  B(n_{it}, p_{t})$$

I derive the binomial parameters, namely the number of Dividend-eligible individuals in the household ($n_{it}$) and the probability of receiving the Dividend in that year ($p_{t}$), using ACS and Alaska-specific data sources. The first step in the process is to work from the Alaska Dividend Division's eligibility guidelines to construct a subset of the ACS population that are eligible for the Dividend. Eligible individuals in each household $i$ in year $t$ define $n_{it}$. 

I first eliminate from my data set the very small number of sampled individuals in each year who are both under 15 and not part of households because they have no recorded individual or household income to use in the simulation (all single, non-incarcerated sample members reporting an income are included in my analysis as single-member households). I then identify those who fail to meet the Dividend Division's eligibility guidelines, which in the context of ACS data means those who were incarcerated at the time of that year's survey as well as those who migrated into Alaska from another state or country within the prior year. After removing all incarcerated individuals from the sample, I code individuals migrating into the state in the prior year as Dividend-ineligible, code all others as Dividend-eligible, and keep both subsets in the data. 

The next step in the data construction process is to establish $p_{t}$, or the percentage of Dividend-eligible individuals in each year to simulate in order to capture the appropriate number of recipients (and thus the appropriate dollar amount moving through Alaska's economy). The table below outlines the process I use to establish these percentages, which appear in the second to last columns of both halves of the table. The top half of the table uses official data from various state sources in Alaska, while the bottom half shows the analogous figures I generate in the ACS data using the process I describe above.  

<img src="https://github.com/jwindawi/swf-and-ubi-governance/blob/master/construction.png" width="100" />

I use the Department of Health and Human Services poverty guideline for Alaska rather than the more traditional Census threshold. While the latter is designed to capture national poverty rates, the HHS guidelines take into account the higher cost of living in Alaska.

I calculate these using the the *survey* and *convey* packages in R, which are designed for the complexity of survey-based sample data. This is especially important for the American Community Survey, which (like any sample-based survey) introduces uncertainty in the sampling process that is not captured by traditional, estimation-based variance.  Beginning in 2005, the ACS began providing replicate weights for both households and individuals in its annual PUMS data. The ACS calculates these based on the full ACS sample from which the PUMS are drawn, which means that the replicate weights reflect both the uncertainty inherent in the underlying sampling in terms of clustering/stratification as well as the additional sampling uncertainty introduced by selecting the PUMS subsamples. ACS PUMS data includes 80 replicate weights for each household, as well as 80 replicate weights for each individual, in each calendar year. The *survey* package offers an option of making the baseline point estimate the center of the distribution of 81 estimates (the original + the 80 replicate versions). The standard errors are based on calculations using Fay's method and a balanced repeated replication (BRR) design.

 Doing this randomization and repeated measurement 1,000 times raises a final complication, which is how best to summarize the results of the 1,000 draws. Ideally, I would assemble the 1,000 draws for each of the 578 statistic-years into its own distribution, establish a representative statistic such as the mean or mode, and use that to test for independence from the baseline ACS. Unfortunately, quantiles and cutoff-based statistics such as poverty rates don't behave in a way that makes that possible. This isn't universally true, but I've examined enough to be certain that this is a sufficiently large problem to necessitate an alternative approach.

Using the ACS replicate weights allows me to generate design-based standard errors for each of the test statistics in each of the annual draws, which I then use in one-sided t-tests of significance relative to the baseline estimates (with their own replicate-weight errors) from the ACS. I adjust the resulting p-values to account for the large number of tests by using Narum's \textcite{narum_beyond_2006}
 version of Benjamini and Yekutiel's (\cite{benjamini_control_2001}) false discovery rate, which accommodates dependence between hypotheses and is less punitive than Bonferroni's classic measure. The measure is constructed as follows, with $k$ being the number of hypotheses: 
 
 $$\alpha_{FDR}=\frac{\alpha}{\sum_{i=1}^{k}\frac{1}{i}}$$
 
## Fiscalization and the Dividend

The historical results represent a period in which the Dividend was (until 2016) set based on a mechanical, statutory rule. The Dividend's shift to a POMV-based policy firmly enmeshes the Dividend into the state's fiscal policy, a pattern I will call "fiscalization". The new policy involves a shift to endowment-style calculations based on a percentage of the market value of the total Permanent Fund, or ``POMV". Once established, the POMV is then appropriated and becomes part of the state's budget, giving the state the authority to apportion the funds between dividends and disbursements to the state's General Fund. 

To capture this, I use a simple accounting method that applies the new policy to historical data in order to generate new annual market values for the Permanent Fund, or $MV_{t}$ for each year $t$ that take into account the reductions that result from larger POMV appropriations, and generate annual POMV-based pools based on these values. I then use these values in two ways. First, I generate annual Dividends based on simple assumptions, and apply the simulation methods used in the baseline simulations above in order to gauge the reduced Dividends' effects on inequality and poverty. Second, I apply the resulting surpluses to the state's historical budget by crediting them to the rainy-day funds (and thus to the General Fund) in order to situate the Dividend changes in the larger fiscal context. I describe the methods and assumptions I use to generate these figures in the following subsections, and discuss the findings in X.... 

For tractability, I assume that most external variables (primarily annual appropriations from the Permanent Fund) as well as its investment returns remain unchanged from their historical values. My calculation of the annual POMV begins with the prior year's ending market valuation of the Permanent Fund, or $MV_{t-1}$, which I adjust by the current year's Permanent Fund investment return $r_{t}$ before subtracting annual appropriations formerly bundled with the Dividend as well as that year's POMV pool using the following: 

$$MV_{t} = r_{t}(MV_{t-1}) - APPR_{t} - POMV_{t}$$

I use the statutory formula to calculate each year's POMV pool $POMV_{t}$ as 5.25\% of the average of the prior five years' Permanent Fund market values, less an adjustment for an earlier settlement ($AH_{t}$) that is excluded by statute from the POMV calculation. The $AH$ funds come from a settlement awarded in an earlier dispute with Amerada Hess, and amount to over \$400 million in most years.} 

$$ POMV_{t} = \Big[\frac{1}{5}\sum_{n=1}^{5} (MV_{t-n} - AH_{t-n})\Big] * 0.0525 $$

Given the limitations of my data, I assume that the new POMV policy went into effect in 2006, so that for 2000 - 2005, the amount available for historical POMV calculation is simply the market value of the Fund at year end or $MV_{t}$, less the Amerada Hess settlement amount (or $AH_{t}$) to get $POMV_{t}$. I follow the statute's description of the new policy by taking the five-year average of the current and prior four years' annual $POMV_{t}$, of which 5.25\% becomes the POMV Pool for year $t$.

This reduction has a significant effect on the simulated value of the Permanent Fund. Beginning the simulated period prior to the steep market declines of 2008 and 2009 shows that the larger appropriations for POMV pools would have prolonged the Fund's recovery from investment losses, an effect that compounds over time even when I apply the same investment returns in percentage terms. \autoref{fig:fundbal} shows the difference between the Fund's growth paths under the historical policy as well as the simulated effects of the POMV assuming a 2016 beginning. 

The final step is to divide $POMV_{t}$ into its component pieces, the POMV-based divided and the remainder that goes to the state budget. 

$$ POMV_{t} = d_{POMV, t} + b_{POMV, t} $$

There is no set figure for the share between these two components, which leads me to model two possible historical trajectories for the Dividend based on the backward projection of the two primary policies. In the first, I assume that the new, discretionary model is in force along with the POMV approach. To model this, I take the average from the three years during which the method was in use for the Dividend share $d_{POMV, t}$, which is 30.26\% of each year's POMV pool. I treat the remainder as General Fund Revenue, and apply it to the state's primary rainy day fund, the Constitutional Budget Reserve Fund, since it represents additional income beyond what the state already gathered. I call this the ``stock" version of the POMV-based Dividend when reporting results given its basis in calculations based on the stock of assets in the Fund. 

The second approach combines POMV allocations with the older Dividend payout formula based on investment earnings, but in the context of steady reductions in the overall APF balance (and thus the invested principal) from the POMV reductions. This produces a Dividend with much of the variation of the historical Dividend, though with amounts that tend to fall somewhere between the historical figure and the simulated Dividend described above. I call this the ``flow" version of the POMV-based Dividend given its basis in investment flows. As with the other method, I treat any remaining funds from the POMV appropriation after paying the Dividend as going into the CBR and thus available for rain-day spending. 
